schema: '2.0'
stages:
  train_simple_conv:
    cmd:
    - rm -rf data/models/SIMPLE_CONV-dvc
    - python -m cnn_res_degrader.train -s dvc
    deps:
    - path: cnn_res_degrader/data_loading.py
      md5: e4dafa89521ad145f813e49b0aafd985
      size: 8760
    - path: cnn_res_degrader/metrics.py
      md5: ea7e6b5316589d9f9d44ba089743a676
      size: 380
    - path: cnn_res_degrader/models/common.py
      md5: 810fb88f6c63d9c5f797439f18ecb223
      size: 572
    - path: cnn_res_degrader/models/maskable_degrader.py
      md5: 4b9831e5d7ea8f5084fd98bcb5f23574
      size: 1481
    - path: cnn_res_degrader/models/simple_conv.py
      md5: c3306dc639e7ca1fc4bf7f86c965357e
      size: 1088
    - path: cnn_res_degrader/train.py
      md5: 93de60fcaed1edef4276671acc978894
      size: 7721
    - path: data/proba-v_registered
      md5: c2484f769d289457484d355c872e102c.dir
      size: 2387126778
      nfiles: 31320
    params:
      params.yaml:
        SIMPLE_CONV:
          load:
            dataset: NIR
            input_shape:
            - 378
            - 378
            - 1
            limit_per_scene:
            batch_size: 8
            validation_split: 0.8
            preprocess:
              equalize_hist: true
              artificial_lr: false
              interpolation_mode: BICUBIC
          train:
            lr: 0.0001
            epochs: 100
            loss: MSE
            use_lr_masks: true
            callbacks:
              tensorboard: true
              modelcheckpoint: true
              save_best_only: true
              earlystopping: true
              stopping_delta: 0.0
              stopping_patience: 5
              preview: true
    outs:
    - path: data/models/SIMPLE_CONV-dvc
      md5: 1a8d4f479160313c749a080c5aae2859.dir
      size: 13622342
      nfiles: 44
  train_autoencoder:
    cmd:
    - rm -rf data/models/AUTOENCODER-dvc
    - python -m cnn_res_degrader.train -a dvc
    deps:
    - path: cnn_res_degrader/data_loading.py
      md5: e4dafa89521ad145f813e49b0aafd985
      size: 8760
    - path: cnn_res_degrader/metrics.py
      md5: ea7e6b5316589d9f9d44ba089743a676
      size: 380
    - path: cnn_res_degrader/models/autoencoder.py
      md5: 00a0edfd518fb289d7a4824486c50bb2
      size: 1381
    - path: cnn_res_degrader/models/common.py
      md5: 810fb88f6c63d9c5f797439f18ecb223
      size: 572
    - path: cnn_res_degrader/models/maskable_degrader.py
      md5: 4b9831e5d7ea8f5084fd98bcb5f23574
      size: 1481
    - path: cnn_res_degrader/train.py
      md5: 93de60fcaed1edef4276671acc978894
      size: 7721
    - path: data/proba-v_registered
      md5: c2484f769d289457484d355c872e102c.dir
      size: 2387126778
      nfiles: 31320
    params:
      params.yaml:
        AUTOENCODER:
          load:
            dataset: NIR
            input_shape:
            - 378
            - 378
            - 1
            limit_per_scene:
            batch_size: 8
            validation_split: 0.8
            preprocess:
              equalize_hist: true
              artificial_lr: false
              interpolation_mode: BICUBIC
          train:
            lr: 0.0001
            epochs: 100
            loss: MSE
            use_lr_masks: true
            callbacks:
              tensorboard: true
              modelcheckpoint: true
              save_best_only: true
              earlystopping: true
              stopping_delta: 0.0
              stopping_patience: 5
              preview: true
    outs:
    - path: data/models/AUTOENCODER-dvc
      md5: 6b7f7a6ac60ea75185dd3df5a64679e9.dir
      size: 28420331
      nfiles: 74
  train_gan:
    cmd:
    - rm -rf data/models/GAN-dvc
    - python -m cnn_res_degrader.train -g dvc
    deps:
    - path: cnn_res_degrader/data_loading.py
      md5: e4dafa89521ad145f813e49b0aafd985
      size: 8760
    - path: cnn_res_degrader/metrics.py
      md5: ea7e6b5316589d9f9d44ba089743a676
      size: 380
    - path: cnn_res_degrader/models/common.py
      md5: 810fb88f6c63d9c5f797439f18ecb223
      size: 572
    - path: cnn_res_degrader/models/gan.py
      md5: a130df9f38e78cad0e0ab2250f139b3f
      size: 4599
    - path: cnn_res_degrader/train.py
      md5: 93de60fcaed1edef4276671acc978894
      size: 7721
    - path: data/proba-v_registered
      md5: c2484f769d289457484d355c872e102c.dir
      size: 2387126778
      nfiles: 31320
    params:
      params.yaml:
        GAN:
          load:
            dataset: NIR
            input_shape:
            - 378
            - 378
            - 1
            limit_per_scene:
            batch_size: 8
            validation_split: 0.8
            preprocess:
              equalize_hist: true
              artificial_lr: false
              interpolation_mode: BICUBIC
          train:
            lr:
              discriminator: 0.0001
              generator: 0.0001
            epochs: 100
            loss: BINARY_CROSSENTROPY
            use_lr_masks: false
            callbacks:
              tensorboard: true
              modelcheckpoint: true
              save_best_only: false
              earlystopping: false
              stopping_delta: 0.0
              stopping_patience: 0
              preview: true
    outs:
    - path: data/models/GAN-dvc
      md5: d2f64c66c4ea1eadd2387564c1563b1d.dir
      size: 85356379
      nfiles: 210
